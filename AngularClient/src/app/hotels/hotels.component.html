<div>
  <div class="container-fluid">
    <div class="row justify-content-center">
      <div class="col-12">
        <div class="border rounded p-3 my-3 hotel-header">
          <h2 class="text-center m-5 mt-4">Hotel List</h2>
          <div class="d-flex justify-content-evenly">
            <div class="dropdown inline-block loc-flex">
              <button
                class="btn dropdown-toggle"
                type="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                {{ selectedCity || "Location" }}
              </button>
              <ul class="dropdown-menu">
                <li>
                  <a
                    class="dropdown-item"
                    (click)="setSelectedCity(''); filterByReviews()"
                    >Choose</a
                  >
                </li>
                <li *ngFor="let city of cities">
                  <a
                    class="dropdown-item"
                    (click)="setSelectedCity(city.value); filterByReviews()"
                    >{{ city.name }}</a
                  >
                </li>
              </ul>
            </div>
            <div
              class="loc-flex py-1"
              (click)="onReviewSelect(); filterByReviews()"
            >
              Rating
            </div>
            <!-- <div class="loc-flex py-1">Price</div> -->
            <div class="dropdown inline-block loc-flex">
              <button
                class="btn dropdown-toggle"
                type="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                {{ selectedPrice || "Price" }}
              </button>
              <ul class="dropdown-menu">
                <li>
                  <a
                    class="dropdown-item"
                    (click)="setSelectedPrice(''); filterByReviews()"
                    >Choose</a
                  >
                </li>
                <li *ngFor="let price of prices">
                  <a
                    class="dropdown-item"
                    (click)="setSelectedPrice(price.name); filterByReviews()"
                    >{{ price.name }}</a
                  >
                </li>
              </ul>
            </div>
            <!-- <div class="loc-flex py-1">{{ cheapestRooms }}</div> -->
            <!-- <div class="loc-flex py-1">{{ cheapestRooms$ }}</div> -->
          </div>
        </div>

        <div class="container-fluid">
          <div class="row justify-content-evenly">
            <div
              *ngFor="let hoteList of hoteLists$ | async; let i = index"
              class="col-sm-12 col-md-5 border rounded p-3 my-3 hotel-card"
            >
              <a
                href="hotels/rooms"
                class="nav-link"
                routerLink="rooms"
                (click)="showRooms(hoteList.id)"
              >
                <div class="row row-room">
                  <div class="col-sm-5 col-md-12 img-room">
                    <img
                      class="rounded"
                      src="../../assets/rooms/sample_room.jpeg"
                      alt=""
                    />
                  </div>
                  <div class="col-sm-7 col-md-12">
                    <div class="row">
                      <div class="col-sm-7 col-md-12 py-2">
                        <div class="row row-roomm">
                          <div class="col-7">
                            <h1 class="fs-3 m-0">
                              {{ hoteList.hotelName }}
                            </h1>
                            <div class="star-rating">
                              <img
                                class="star empty"
                                *ngFor="
                                  let star of generateStars(hoteList.hotelStar!)
                                "
                                src="../../assets/rooms/star.png"
                              />
                            </div>
                            <h2 class="fs-6">{{ hoteList.location }}</h2>
                          </div>
                          <div class="col-5 ps-0" align="right">
                            <div>
                              <div class="reviews-header mt-1">
                                <h2
                                  *ngIf="hoteList.averageReview * 2 >= 9"
                                  class="fs-6 m-0"
                                >
                                  Exceptional
                                </h2>
                                <h2
                                  *ngIf="
                                    hoteList.averageReview * 2 >= 8 &&
                                    hoteList.averageReview * 2 < 9
                                  "
                                  class="fs-6 m-0"
                                >
                                  Excellent
                                </h2>
                                <h2
                                  *ngIf="
                                    hoteList.averageReview * 2 >= 7 &&
                                    hoteList.averageReview * 2 < 8
                                  "
                                  class="fs-6 m-0"
                                >
                                  Very good
                                </h2>
                                <h2
                                  *ngIf="
                                    hoteList.averageReview * 2 >= 6 &&
                                    hoteList.averageReview * 2 < 7
                                  "
                                  class="fs-6 m-0"
                                >
                                  Good
                                </h2>
                                <div
                                  *ngIf="hoteList.averageReview > 0"
                                  class="average-review"
                                >
                                  <h2 class="fs-6 m-0">
                                    {{ hoteList.averageReview * 2 }}
                                  </h2>
                                </div>
                              </div>
                              <p class="fs-6">
                                {{ hoteList.totalReviews }} reviews
                              </p>
                            </div>
                            <div></div>
                          </div>
                        </div>
                      </div>
                      <div class="col-sm-5 col-md-12">
                        <div class="row rounded hotel-price p-2">
                          <div
                            *ngIf="hoteList.lowestPrice"
                            class="col-md-6 col-sm-12"
                          >
                            <!-- <p class="m-0" align="left">From 100$</p> -->
                            <p class="m-0" align="left">
                              From {{ hoteList.lowestPrice }}$
                            </p>
                          </div>
                          <div
                            class="col-md-6 col-sm-12 hotel-price-button p-0"
                            align="end"
                          >
                            <button class="btn btn-primary">See Prices</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
